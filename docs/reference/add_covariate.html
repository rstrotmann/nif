<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Attach time-varying covariate — add_covariate • nif</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Attach time-varying covariate — add_covariate"><meta name="description" content="A time-varying covariate is added as a new field with daily time granularity
and carried forward for missing entries. The name of the covariate can be
specified by 'covariate'. By default, it is set to the 'testcd' (without any
prefix)."><meta property="og:description" content="A time-varying covariate is added as a new field with daily time granularity
and carried forward for missing entries. The name of the covariate can be
specified by 'covariate'. By default, it is set to the 'testcd' (without any
prefix)."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.52.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/creating-multiple-study-nif.html">creating-multiple-study-nif</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-dose-example.html">NIF data for a multiple-dose study</a></li>
    <li><a class="dropdown-item" href="../articles/nif-imputations.html">Imputations and assumptions</a></li>
    <li><a class="dropdown-item" href="../articles/nif-vignette.html">Creating NIF files from SDTM data</a></li>
    <li><a class="dropdown-item" href="../articles/tests_and_coverage.html">Tests and Coverage</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstrotmann/nif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Attach time-varying covariate</h1>
      <small class="dont-index">Source: <a href="https://github.com/rstrotmann/nif/blob/HEAD/R/nif_covariates.R" class="external-link"><code>R/nif_covariates.R</code></a></small>
      <div class="d-none name"><code>add_covariate.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>A time-varying covariate is added as a new field with daily time granularity
and carried forward for missing entries. The name of the covariate can be
specified by 'covariate'. By default, it is set to the 'testcd' (without any
prefix).</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">add_covariate</span><span class="op">(</span></span>
<span>  <span class="va">nif</span>,</span>
<span>  <span class="va">sdtm</span>,</span>
<span>  <span class="va">domain</span>,</span>
<span>  <span class="va">testcd</span>,</span>
<span>  covariate <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  DTC_field <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  DV_field <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  TESTCD_field <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  observation_filter <span class="op">=</span> <span class="st">"TRUE"</span>,</span>
<span>  duplicate_function <span class="op">=</span> <span class="va">mean</span>,</span>
<span>  silent <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-nif">nif<a class="anchor" aria-label="anchor" href="#arg-nif"></a></dt>
<dd><p>A nif object.</p></dd>


<dt id="arg-sdtm">sdtm<a class="anchor" aria-label="anchor" href="#arg-sdtm"></a></dt>
<dd><p>The corresponding sdtm object.</p></dd>


<dt id="arg-domain">domain<a class="anchor" aria-label="anchor" href="#arg-domain"></a></dt>
<dd><p>The domain as character.</p></dd>


<dt id="arg-testcd">testcd<a class="anchor" aria-label="anchor" href="#arg-testcd"></a></dt>
<dd><p>The xxTESTCD with xx the domain name, as character.</p></dd>


<dt id="arg-covariate">covariate<a class="anchor" aria-label="anchor" href="#arg-covariate"></a></dt>
<dd><p>The name of the covariate, defaults to the testcd if NULL.</p></dd>


<dt id="arg-dtc-field">DTC_field<a class="anchor" aria-label="anchor" href="#arg-dtc-field"></a></dt>
<dd><p>The field to use as the date-time code for the observation.
Defaults to the two-character domain name followed by 'DTC', if NULL.</p></dd>


<dt id="arg-dv-field">DV_field<a class="anchor" aria-label="anchor" href="#arg-dv-field"></a></dt>
<dd><p>The name of the DV field as character.</p></dd>


<dt id="arg-testcd-field">TESTCD_field<a class="anchor" aria-label="anchor" href="#arg-testcd-field"></a></dt>
<dd><p>The name of the TESTCD field. defaults to xxTESTCD (with
xx the domain code), as character.</p></dd>


<dt id="arg-observation-filter">observation_filter<a class="anchor" aria-label="anchor" href="#arg-observation-filter"></a></dt>
<dd><p>A filter term for the <code>domain</code>, as character.</p></dd>


<dt id="arg-duplicate-function">duplicate_function<a class="anchor" aria-label="anchor" href="#arg-duplicate-function"></a></dt>
<dd><p>The function to apply if multiple covariate values
are found by day.</p></dd>


<dt id="arg-silent">silent<a class="anchor" aria-label="anchor" href="#arg-silent"></a></dt>
<dd><p>Suppress messages, defaults to nif_option setting if NULL.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A nif object with a new column added that contains the time-varying covariate values.
The name of this column is determined by the <code>covariate</code> parameter (or defaults to
the value of <code>testcd</code> if not specified). The covariate values are matched to the nif
object by USUBJID and date. For each subject, missing covariate values are filled
using the last observed value (carrying forward).</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>add_baseline()</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">add_covariate</span><span class="op">(</span><span class="va">examplinib_poc_nif</span>, <span class="va">examplinib_poc</span>, <span class="st">"vs"</span>, <span class="st">"WEIGHT"</span>,</span></span>
<span class="r-in"><span>  covariate <span class="op">=</span> <span class="st">"wt"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ----- NONMEM input file (NIF) object -----</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1344 observations from 80 subjects across 1 study </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Analytes: RS2023 and RS2023487A </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 47 males (58.8%), 33 females (41.2%)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Columns:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   REF, ID, STUDYID, USUBJID, AGE, SEX, RACE, HEIGHT, WEIGHT, BMI, DTC, TIME,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   NTIME, TAFD, TAD, PCELTM, EVID, AMT, ANALYTE, CMT, PARENT, TRTDY, METABOLITE,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   DOSE, DV, MDV, ACTARMCD, IMPUTATION, BL_CREAT, BL_CRCL, wt </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Data (selected columns):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ID   NTIME   TIME    TAD     ANALYTE      EVID   CMT   AMT   DOSE   DV         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    0       0       0       RS2023       1      1     500   500    NA         </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    0       0       0       RS2023       0      2     0     500    0          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    0       0       0       RS2023487A   0      3     0     500    0          </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    0.5     1       1       RS2023       0      2     0     500    636.683    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    0.5     1       1       RS2023487A   0      3     0     500    135.126    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    1       1.467   1.467   RS2023       0      2     0     500    1844.823   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    1       1.467   1.467   RS2023487A   0      3     0     500    677.321    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    1.5     2       2       RS2023       0      2     0     500    2773.308   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    1.5     2       2       RS2023487A   0      3     0     500    1547.253   </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   1    2       2.467   2.467   RS2023       0      2     0     500    2539.54    </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7612 more rows</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rainer Strotmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer></div>





  </body></html>

