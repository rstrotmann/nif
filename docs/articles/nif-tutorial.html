<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Creating NIF files from SDTM data • nif</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Creating NIF files from SDTM data">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">nif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.59.7</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/nif-tutorial.html">Creating NIF files from SDTM data</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-dose-example.html">Example: Multiple-dose study</a></li>
    <li><a class="dropdown-item" href="../articles/nif-imputations.html">Imputations and assumptions</a></li>
    <li><a class="dropdown-item" href="../articles/multiple-study-example.html">Multiple studies in one NIF</a></li>
    <li><a class="dropdown-item" href="../articles/nif-formulas.html">NIF data definition using formulae</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstrotmann/nif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Creating NIF files from SDTM data</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rstrotmann/nif/blob/HEAD/vignettes/nif-tutorial.Rmd" class="external-link"><code>vignettes/nif-tutorial.Rmd</code></a></small>
      <div class="d-none name"><code>nif-tutorial.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">INTRODUCTION<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This is a basic tutorial on using the <code>nif</code> package to
create NONMEM Input Format (NIF) data sets from Study Data Tabulation
Model (SDTM) formatted data.</p>
<div class="section level3">
<h3 id="background">Background<a class="anchor" aria-label="anchor" href="#background"></a>
</h3>
<p>Following regulatory standards, clinical study data are commonly
provided in SDTM format, an observation-based data tabulation format in
which logically related observations are organized into topical
collections (domains). SDTM is defined and maintained by the <a href="https://www.cdisc.org/standards/foundational/sdtm" class="external-link">Clinical Data
Interchange Standards Consortium (CDISC)</a>.</p>
<p>To support typical pharmacometric analyses, data from different SDTM
domains need to be aggregated into a single analysis data set. For
example, demographic and pharmacokinetic concentration data from the DM
and PC domains are both required to evaluate exposure by age. More
complex analyses like population-level PK and PK/PD analyses may include
further data, e.g., clinical laboratory, vital sign, or biomarker
data.</p>
<p>NONMEM and other modeling software packages expect the input data
provided in (long) tabular arrangement with strict requirements to the
formatting and nomenclature of the variables (see, e.g., <a href="https://doi.org/10.1002/psp4.12404" class="external-link">Bauer, CPT Pharmacometrics
Syst. Pharmacol. (2019)</a> for an introduction). The input data file
for these analyses is sometimes casually referred to as a ‘NONMEM input
format’ or ‘NIF’ file, hence the name of this package.</p>
<p>Contingent on the downstream analyses, some of the variables in the
analysis data set can be easily and automatically derived from the SDTM
source data, e.g., ‘DOSE’ (the administered dose) or ‘DV’ (the dependent
variable for observations), or demographic covariates like ‘AGE’, ‘SEX’
or ‘RACE’. Other fields of the input data set may require study-specific
considerations, for example the calculation of baseline renal or hepatic
function categories, definition of specific treatment conditions by
study arm, or the encoding of adverse events or concomitant medications,
as categorical covariates.</p>
<p>While the latter variables often need manual and study-specific data
programming, the core NIF data set can in most cases be generated in a
quite standardized way. But also the manual addition of further
analysis-specific fields is substantially simplified by the functions
that the <code>nif</code> package provides. Often, analysis data sets
can be thus be created with only a handful of lines of code.</p>
<p>Even for basic NIF data sets, missing data or data inconsistencies,
specifically those relating to date and time fields, need to be resolved
to get to analysis-ready data sets. This is frequently encountered when
analyzing preliminary data from ongoing clinical studies that have not
been fully cleaned. The <code>nif</code> package provides a number of
standardized imputation rules to resolve these issues. More on this
point later as well in a separate vignette
(<code><a href="../articles/nif-imputations.html">vignette("nif-imputations")</a></code>).</p>
<p>Overall, the <code>nif</code> package is intended to facilitate the
creation of analysis data sets (‘NIF data sets’) from SDTM-formatted
clinical data.</p>
</div>
<div class="section level3">
<h3 id="outline">Outline<a class="anchor" aria-label="anchor" href="#outline"></a>
</h3>
<p>The <a href="#sdtm-data">first</a> part of this tutorial describes
how to import SDTM data into a <code>sdtm</code> object, and how to
explore clinical data on the SDTM level.</p>
<p>The <a href="#nif-data-sets">second</a> part walks through the
generation of a sample <code>nif</code> data set from SDTM data to
illustrate the general workflow for building analysis data sets.</p>
<p>Finally, the <a href="#data-exploration">third</a> part showcases
some functions to quickly explore analysis data sets.</p>
<p>This tutorial contains live code that depends on the following R
packages:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyr.tidyverse.org" class="external-link">tidyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstrotmann/nif" class="external-link">nif</a></span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="sdtm-data">SDTM DATA<a class="anchor" aria-label="anchor" href="#sdtm-data"></a>
</h2>
<div class="section level3">
<h3 id="importing-sdtm-data">Importing SDTM data<a class="anchor" aria-label="anchor" href="#importing-sdtm-data"></a>
</h3>
<p>In many cases, source SDTM data are provided as one file per domain,
often in SAS binary data base storage format (.sas7bdat) or SAS
Transport File (.xpt) format.</p>
<p>The SDTM data can be loaded using <code><a href="../reference/read_sdtm.html">read_sdtm()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_sdtm.html">read_sdtm</a></span><span class="op">(</span><span class="st">"path/to/sdtm/data"</span><span class="op">)</span></span></code></pre></div>
<p>Windows users may want to provide the file path as raw string, i.e.,
in the form of:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/read_sdtm.html">read_sdtm</a></span><span class="op">(</span><span class="st">r"(path\to\sdtm\data)"</span><span class="op">)</span></span></code></pre></div>
<p>This ensures that the backslashes in the file path are correctly
captured. Note the inner parentheses around the file path!</p>
<p>If no domains are explicitly specified, all files with the respective
extension are loaded (excluding file names that start with an
underscore).</p>
<p>The return value of this function is a <code>sdtm</code> object.</p>
</div>
<div class="section level3">
<h3 id="sdtm-objects">SDTM objects<a class="anchor" aria-label="anchor" href="#sdtm-objects"></a>
</h3>
<p><code>sdtm</code> objects are essentially aggregates (lists) of the
SDTM domains from a particular clinical study, plus some metadata. The
easiest way of creating <code>sdtm</code> objects is by importing the
SDTM data using <code><a href="../reference/read_sdtm.html">read_sdtm()</a></code> as shown above.</p>
<p>The <code>nif</code> package includes sample SDTM data sets for
demonstration purposes. These data do not come from actual clinical
studies but are fully synthetic data sets from a fictional single
ascending dose (SAD) study (<code>examplinib_sad</code>), a fictional
food effect (FE) study (<code>examplinib_fe</code>), and a fictional
single-arm proof-of-concept (POC) study with multiple-dose
administrations (<code>examplinib_poc</code>).</p>
<p>Printing an <code>sdtm</code> object shows relevant summary
information:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplinib_fe</span></span>
<span><span class="co">#&gt; -------- SDTM data set summary -------- </span></span>
<span><span class="co">#&gt; Study 2023000400 </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; An open-label 2-period crossover study in healthy subjects to investigate the</span></span>
<span><span class="co">#&gt; effect of food on the pharmacokinetics of examplinib</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Data disposition</span></span>
<span><span class="co">#&gt;   DOMAIN   SUBJECTS   OBSERVATIONS   </span></span>
<span><span class="co">#&gt;   dm       28         28             </span></span>
<span><span class="co">#&gt;   vs       28         56             </span></span>
<span><span class="co">#&gt;   ex       20         40             </span></span>
<span><span class="co">#&gt;   pc       20         1360           </span></span>
<span><span class="co">#&gt;   lb       28         28             </span></span>
<span><span class="co">#&gt;   ts       0          0              </span></span>
<span><span class="co">#&gt;   pp       20         360             </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Arms (DM):</span></span>
<span><span class="co">#&gt;   ACTARMCD   ACTARM           </span></span>
<span><span class="co">#&gt;   AB         Fasted - Fed     </span></span>
<span><span class="co">#&gt;   BA         Fed - Fasted     </span></span>
<span><span class="co">#&gt;   SCRNFAIL   Screen Failure    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatments (EX):</span></span>
<span><span class="co">#&gt;   EXAMPLINIB</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; PK sample specimens (PC):</span></span>
<span><span class="co">#&gt;   PLASMA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; PK analytes (PC):</span></span>
<span><span class="co">#&gt;   PCTEST       PCTESTCD     </span></span>
<span><span class="co">#&gt;   RS2023       RS2023       </span></span>
<span><span class="co">#&gt;   RS2023487A   RS2023487A     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Hash: fe221c9908fca418b46a1bd52f7b885b</span></span>
<span><span class="co">#&gt; Last DTC: 2001-03-10 11:28:00</span></span></code></pre></div>
<p>High-level subject-level disposition data for a specific subject can
be extracted using <code><a href="../reference/subject_info.html">subject_info()</a></code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">examplinib_fe</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="../reference/subject_info.html">subject_info</a></span><span class="op">(</span><span class="st">"20230004001050001"</span><span class="op">)</span></span>
<span><span class="co">#&gt;          [,1]                     </span></span>
<span><span class="co">#&gt; SITEID   105                      </span></span>
<span><span class="co">#&gt; SUBJID   1050001                  </span></span>
<span><span class="co">#&gt; ACTARM   Fasted - Fed             </span></span>
<span><span class="co">#&gt; ACTARMCD AB                       </span></span>
<span><span class="co">#&gt; RFICDTC  2000-12-26T10:05         </span></span>
<span><span class="co">#&gt; RFSTDTC  2001-01-05T10:05         </span></span>
<span><span class="co">#&gt; RFXSTDTC 2001-01-05T10:05         </span></span>
<span><span class="co">#&gt; STUDYID  2023000400               </span></span>
<span><span class="co">#&gt; USUBJID  20230004001050001        </span></span>
<span><span class="co">#&gt; SEX      M                        </span></span>
<span><span class="co">#&gt; AGE      34                       </span></span>
<span><span class="co">#&gt; AGEU     YEARS                    </span></span>
<span><span class="co">#&gt; COUNTRY  DEU                      </span></span>
<span><span class="co">#&gt; DOMAIN   DM                       </span></span>
<span><span class="co">#&gt; ARM      Fasted - Fed             </span></span>
<span><span class="co">#&gt; ARMCD    AB                       </span></span>
<span><span class="co">#&gt; RACE     BLACK OR AFRICAN AMERICAN</span></span>
<span><span class="co">#&gt; ETHNIC                            </span></span>
<span><span class="co">#&gt; RFENDTC  2001-01-18T10:05</span></span></code></pre></div>
<p>The original SDTM data for specific domains can be retrieved from
<code>sdtm</code> objects with the <code><a href="../reference/domain.html">domain()</a></code> function:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/domain.html">domain</a></span><span class="op">(</span><span class="va">examplinib_sad</span>, <span class="st">"dm"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;   SITEID  SUBJID                              ACTARM ACTARMCD          RFICDTC</span></span>
<span><span class="co">#&gt; 1    101 1010001 Treatment cohort 1, 5 mg examplinib       C1 2000-12-21T10:18</span></span>
<span><span class="co">#&gt; 2    101 1010002 Treatment cohort 1, 5 mg examplinib       C1 2000-12-21T10:30</span></span>
<span><span class="co">#&gt; 3    101 1010003 Treatment cohort 1, 5 mg examplinib       C1 2000-12-21T09:22</span></span>
<span><span class="co">#&gt;            RFSTDTC         RFXSTDTC    STUDYID           USUBJID SEX AGE  AGEU</span></span>
<span><span class="co">#&gt; 1 2000-12-31T10:18 2000-12-31T10:18 2023000001 20230000011010001   M  43 YEARS</span></span>
<span><span class="co">#&gt; 2 2000-12-29T10:30 2000-12-29T10:30 2023000001 20230000011010002   M  49 YEARS</span></span>
<span><span class="co">#&gt; 3 2000-12-29T09:22 2000-12-29T09:22 2023000001 20230000011010003   M  46 YEARS</span></span>
<span><span class="co">#&gt;   COUNTRY DOMAIN                                 ARM ARMCD</span></span>
<span><span class="co">#&gt; 1     DEU     DM Treatment cohort 1, 5 mg examplinib    C1</span></span>
<span><span class="co">#&gt; 2     DEU     DM Treatment cohort 1, 5 mg examplinib    C1</span></span>
<span><span class="co">#&gt; 3     DEU     DM Treatment cohort 1, 5 mg examplinib    C1</span></span>
<span><span class="co">#&gt;                        RACE ETHNIC          RFENDTC</span></span>
<span><span class="co">#&gt; 1                     WHITE        2000-12-31T10:18</span></span>
<span><span class="co">#&gt; 2                     WHITE        2000-12-29T10:30</span></span>
<span><span class="co">#&gt; 3 BLACK OR AFRICAN AMERICAN        2000-12-29T09:22</span></span></code></pre></div>
<p><code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> generates a high-level data disposition
overview on a specific domain:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="fu"><a href="../reference/domain.html">domain</a></span><span class="op">(</span><span class="va">examplinib_sad</span>, <span class="st">"pc"</span><span class="op">)</span>, silent <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; -------- SDTM domain summary -------- </span></span>
<span><span class="co">#&gt; Study 2023000001 </span></span>
<span><span class="co">#&gt; Domain PC </span></span>
<span><span class="co">#&gt; 48 subjects</span></span>
<span><span class="co">#&gt; 1632 observations</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Testcodes</span></span>
<span><span class="co">#&gt;   PCTEST       PCTESTCD     PCSPEC   </span></span>
<span><span class="co">#&gt;   RS2023       RS2023       PLASMA   </span></span>
<span><span class="co">#&gt;   RS2023487A   RS2023487A   PLASMA     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Observation time points</span></span>
<span><span class="co">#&gt;   PCTPT                 PCTPTNUM   PCELTM   </span></span>
<span><span class="co">#&gt;   PREDOSE               0          PT0H     </span></span>
<span><span class="co">#&gt;   0.5 HOURS POST-DOSE   0.5        PT0.5H   </span></span>
<span><span class="co">#&gt;   1 HOURS POST-DOSE     1          PT1H     </span></span>
<span><span class="co">#&gt;   1.5 HOURS POST-DOSE   1.5        PT1.5H   </span></span>
<span><span class="co">#&gt;   2 HOURS POST-DOSE     2          PT2H     </span></span>
<span><span class="co">#&gt;   3 HOURS POST-DOSE     3          PT3H     </span></span>
<span><span class="co">#&gt;   4 HOURS POST-DOSE     4          PT4H     </span></span>
<span><span class="co">#&gt;   6 HOURS POST-DOSE     6          PT6H     </span></span>
<span><span class="co">#&gt;   8 HOURS POST-DOSE     8          PT8H     </span></span>
<span><span class="co">#&gt;   10 HOURS POST-DOSE    10         PT10H    </span></span>
<span><span class="co">#&gt;   12 HOURS POST-DOSE    12         PT12H    </span></span>
<span><span class="co">#&gt;   24 HOURS POST-DOSE    24         PT24H    </span></span>
<span><span class="co">#&gt;   48 HOURS POST-DOSE    48         PT48H    </span></span>
<span><span class="co">#&gt;   72 HOURS POST-DOSE    72         PT72H    </span></span>
<span><span class="co">#&gt;   96 HOURS POST-DOSE    96         PT96H    </span></span>
<span><span class="co">#&gt;   144 HOURS POST-DOSE   144        PT144H   </span></span>
<span><span class="co">#&gt;   168 HOURS POST-DOSE   168        PT168H     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Epochs</span></span>
<span><span class="co">#&gt;   OPEN LABEL TREATMENT     </span></span>
<span><span class="co">#&gt; Hash: d29adb9ffafcfd308f6b38947fefecde</span></span>
<span><span class="co">#&gt; Last DTC: 2001-03-02 12:31:00</span></span></code></pre></div>
<p>A graphical timeline overview can be generated for a specific domain
by, e.g.:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">examplinib_fe</span>, <span class="st">"dm"</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-8-1.png" class="r-plt" width="672"></p>
</div>
<div class="section level3">
<h3 id="sdtm-suggestions">SDTM suggestions<a class="anchor" aria-label="anchor" href="#sdtm-suggestions"></a>
</h3>
<p>SDTM data may be incomplete, e.g., when emerging data that have not
yet been fully cleaned are analyzed. In addition, some study-specific
data may be encoded in a non-standardized way, e.g., information on
study parts, cohorts, treatment conditions, etc..</p>
<p>Such data fields may need study-specific considerations and manual
imputations during the creating of the analysis data set. To help
deciding which study-specific factors need to be addressed, the
<code>nif</code> package includes functions to explore the structure of
SDTM data.</p>
<p>As we will see in <a href="#nif-data-sets">NIF DATA SETS</a>, nif
objects are built sequentially from the SDTM data set. Based on the
actual data disposition, the <code><a href="../reference/suggest.html">suggest()</a></code> function provide
useful code snippets for the creation of analysis data sets:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/suggest.html">suggest</a></span><span class="op">(</span><span class="va">examplinib_fe</span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">1. Treatments</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; There are 1 treatments (EXTRT) in EX: EXAMPLINIB. Consider adding them to the</span></span>
<span><span class="co">#&gt; nif object using `add_administration()`, see the code snippet below (replace</span></span>
<span><span class="co">#&gt; 'sdtm' with the name of your sdtm object):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_administration</span><span style="color: #D7AF00;">(</span>sdtm, <span style="color: #00AFAF;">'EXAMPLINIB'</span><span style="color: #D7AF00;">)</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">2. Pharmacokinetic observations</span> <span style="color: #00BBBB;">─────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; There are 2 pharmacokinetic analytes:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   PCTEST       PCTESTCD     </span></span>
<span><span class="co">#&gt;   RS2023       RS2023       </span></span>
<span><span class="co">#&gt;   RS2023487A   RS2023487A</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Consider adding them to the nif object using `add_observation()`, see the code</span></span>
<span><span class="co">#&gt; snippet below (replace 'sdtm' with the name of your sdtm object):</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_observation</span><span style="color: #D7AF00;">(</span>sdtm, <span style="color: #00AFAF;">'pc'</span>, <span style="color: #00AFAF;">'RS2023'</span><span style="color: #D7AF00;">)</span></span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_observation</span><span style="color: #D7AF00;">(</span>sdtm, <span style="color: #00AFAF;">'pc'</span>, <span style="color: #00AFAF;">'RS2023487A'</span><span style="color: #D7AF00;">)</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; ── <span style="font-weight: bold;">NTIME definition</span> ──</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; The PC domain contains multiple fields that the nominal sampling time can be</span></span>
<span><span class="co">#&gt; derived from:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   PCTPT                 PCTPTNUM   PCELTM   </span></span>
<span><span class="co">#&gt;   PREDOSE               0          PT0H     </span></span>
<span><span class="co">#&gt;   0.5 HOURS POST-DOSE   0.5        PT0.5H   </span></span>
<span><span class="co">#&gt;   1 HOURS POST-DOSE     1          PT1H     </span></span>
<span><span class="co">#&gt;   1.5 HOURS POST-DOSE   1.5        PT1.5H   </span></span>
<span><span class="co">#&gt;   2 HOURS POST-DOSE     2          PT2H      </span></span>
<span><span class="co">#&gt;   (12 more rows)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Consider specifying a suitabe 'ntime_method' argument to 'add_observation()'.</span></span>
<span><span class="co">#&gt; By default, the function will attempt to extract time information from the</span></span>
<span><span class="co">#&gt; PCTPT field.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">3. Study arms</span> <span style="color: #00BBBB;">───────────────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; There are 3 study arms defined in DM:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   ACTARMCD   ACTARM           </span></span>
<span><span class="co">#&gt;   AB         Fasted - Fed     </span></span>
<span><span class="co">#&gt;   BA         Fed - Fasted     </span></span>
<span><span class="co">#&gt;   SCRNFAIL   Screen Failure</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Consider defining a PART or ARM variable, filtering for a particular arm, or</span></span>
<span><span class="co">#&gt; defining a covariate based on ACTARMCD.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #00BBBB;">──</span> <span style="font-weight: bold;">4. Baseline covariates</span> <span style="color: #00BBBB;">──────────────────────────────────────────────────────</span></span></span>
<span><span class="co">#&gt; The LB domains contains creatinine (CREAT) observations. Consider adding a</span></span>
<span><span class="co">#&gt; baseline creatinine covariate, baseline creatinine clearance (BL_CRCL) and</span></span>
<span><span class="co">#&gt; baseline renal function category:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_observation</span><span style="color: #D7AF00;">(</span>sdtm, <span style="color: #00AFAF;">'lb'</span>, <span style="color: #00AFAF;">'CREAT'</span><span style="color: #D7AF00;">)</span></span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_bl_crcl</span><span style="color: #D7AF00;">()</span></span></span>
<span><span class="co">#&gt;   <span style="font-weight: bold;">add_bl_renal</span><span style="color: #D7AF00;">()</span></span></span></code></pre></div>
<p>In the above example, suggestions 1 and 2 provide code for the
creation of administration and observation events. We will use this code
directly as provided in section [Creating NIF data sets].</p>
<p>Suggestion 3 notes that the DM domain defines different treatment
arms that should probably be included as covariates in the analysis data
set. They specify the sequence of fasted and fed administrations in this
study. We will deal with this in <a href="#study-specific-covariates">Study-specific covariates</a>.</p>
</div>
</div>
<div class="section level2">
<h2 id="nif-data-sets">NIF DATA SETS<a class="anchor" aria-label="anchor" href="#nif-data-sets"></a>
</h2>
<p>The following sections continue using the <code>examplinib_fe</code>
example to demonstrate how a <code>nif</code> object is created from the
<code>sdtm</code> data object.</p>
<div class="section level3">
<h3 id="basic-nif-file">Basic NIF file<a class="anchor" aria-label="anchor" href="#basic-nif-file"></a>
</h3>
<p>Depending on the analysis needs, <code>nif</code> objects are built
in a stepwise manner, starting from an empty <code>nif</code> object,
sequentially adding treatment administrations, observations, and
covariate fields. The result is a data table with individual rows for
administrations and observations that follows the naming conventions
summarized in <a href="https://doi.org/10.1002/psp4.12404" class="external-link">Bauer, CPT
Pharmacometrics Syst. Pharmacol. (2019)</a>.</p>
<p>The basic <code>nif</code> object automatically includes standard
demographic parameters as subject-level covariates: SEX, AGE and RACE,
and baseline WEIGHT and HEIGHT are taken from the DM and VS domains,
respectively, and merged into the data set as columns of those
names:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sdtm</span> <span class="op">&lt;-</span> <span class="va">examplinib_fe</span></span>
<span></span>
<span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_nif.html">new_nif</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_administration.html">add_administration</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"EXAMPLINIB"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"pc"</span>, <span class="st">"RS2023"</span><span class="op">)</span></span></code></pre></div>
<p>Note that in the above, the name of the treatment, i.e., the value of
the ‘EXTRT’ field is ‘EXAMPLINIB’ while the pharmacokinetic analyte name
(‘PCTESTCD’) is ‘RS2023’. To harmonize both, the ‘analyte’ parameter in
<code><a href="../reference/add_administration.html">add_administration()</a></code> was set to ‘RS2023’, too.</p>
<p>These are the first rows of the resulting data table:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nif</span>, <span class="fl">5</span><span class="op">)</span></span>
<span><span class="co">#&gt;   REF ID    STUDYID           USUBJID AGE SEX  RACE HEIGHT WEIGHT      BMI</span></span>
<span><span class="co">#&gt; 1   1  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 2   2  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 3   3  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 4   4  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 5   5  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt;                   DTC TIME NTIME TAFD TAD EVID AMT ANALYTE CMT PARENT TRTDY</span></span>
<span><span class="co">#&gt; 1 2001-01-05 10:05:00  0.0   0.0  0.0 0.0    1 500  RS2023   1 RS2023     1</span></span>
<span><span class="co">#&gt; 2 2001-01-05 10:05:00  0.0   0.0  0.0 0.0    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt; 3 2001-01-05 10:35:00  0.5   0.5  0.5 0.5    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt; 4 2001-01-05 11:05:00  1.0   1.0  1.0 1.0    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt; 5 2001-01-05 11:35:00  1.5   1.5  1.5 1.5    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt;   METABOLITE DOSE MDV ACTARMCD IMPUTATION       DV</span></span>
<span><span class="co">#&gt; 1      FALSE  500   1       AB                  NA</span></span>
<span><span class="co">#&gt; 2      FALSE  500   0       AB               0.000</span></span>
<span><span class="co">#&gt; 3      FALSE  500   0       AB            4697.327</span></span>
<span><span class="co">#&gt; 4      FALSE  500   0       AB            6325.101</span></span>
<span><span class="co">#&gt; 5      FALSE  500   0       AB            6294.187</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="multiple-analytes">Multiple analytes<a class="anchor" aria-label="anchor" href="#multiple-analytes"></a>
</h3>
<p>To demonstrate how to add multiple analytes to a <code>nif</code>
object, we will temporarily switch to another built-in sample data set,
<code>examplinib_sad</code>. This <code>sdtm</code> object includes
pharmacokinetic concentration data for the M1 metabolite of ‘EXAMPLINIB’
under the PCTESTCD of ‘RS2023487A’. Note how in the below code, the two
analyte observations are added to the data set, setting the metabolite’s
name to ‘M1’, and how its relation to the parent compound is established
using the ‘parent’ parameter:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sdtm1</span> <span class="op">&lt;-</span> <span class="va">examplinib_sad</span></span>
<span></span>
<span><span class="va">nif1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_nif.html">new_nif</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_administration.html">add_administration</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"EXAMPLINIB"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"pc"</span>, <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"pc"</span>, <span class="st">"RS2023487A"</span>, analyte <span class="op">=</span> <span class="st">"M1"</span>, parent <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span></span></code></pre></div>
<p>In analogy to PK observations, observations from any SDTM domain,
e.g., LB, VS, MB, TR, etc., can be added in very much the same way.
Please see the documentation to <code><a href="../reference/add_observation.html">add_observation()</a></code> for
details. This is a powerful feature that allows effortless construction
of analysis data sets for population PK/PD modeling.</p>
</div>
<div class="section level3">
<h3 id="study-specific-covariates">Study-specific covariates<a class="anchor" aria-label="anchor" href="#study-specific-covariates"></a>
</h3>
<p>In this simulated study, participants had received the test drug,
EXAMPLINIB, under fasted or fed conditions in a randomized sequence (see
‘ACTARM’ and ‘ACTARMCD’ in the output of <code><a href="../reference/suggest.html">suggest()</a></code>), where
the ‘EPOCH’ field in the EX domain provides information on the current
treatment period. It should be noted that the way such information is
encoded in the SDTM data varies considerably. This is an example, and
the specifics of how covariate information can extracted from a SDTM
data set will differ across studies. However, <code>nif</code> objects
are essentially data frame objects and can thus be easily manipulated,
e.g., using functions from the <code>dplyr</code> package.</p>
<p>The following code shows how in this specific case, covariates
relating to the current treatment period (‘PERIOD’) and current
treatment (‘TREATMENT’) are sequentially derived and eventually used to
create the ‘FASTED’ covariate.</p>
<p>Note that the ‘EPOCH’ field is not a standard field to be imported
from the SDTM data but can be included using the <code>keep</code>
parameter in <code><a href="../reference/add_administration.html">add_administration()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_nif.html">new_nif</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_administration.html">add_administration</a></span><span class="op">(</span></span>
<span>    <span class="va">examplinib_fe</span>, <span class="st">"EXAMPLINIB"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span>, keep <span class="op">=</span> <span class="st">"EPOCH"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">examplinib_fe</span>, <span class="st">"pc"</span>, <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>PERIOD <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html" class="external-link">str_sub</a></span><span class="op">(</span><span class="va">EPOCH</span>, <span class="op">-</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">1</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>TREATMENT <span class="op">=</span> <span class="fu"><a href="https://stringr.tidyverse.org/reference/str_sub.html" class="external-link">str_sub</a></span><span class="op">(</span><span class="va">ACTARMCD</span>, <span class="va">PERIOD</span>, <span class="va">PERIOD</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>FASTED <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span><span class="va">TREATMENT</span> <span class="op">==</span> <span class="st">"A"</span> <span class="op">~</span> <span class="fl">1</span>, .default <span class="op">=</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span> </span></code></pre></div>
<p>These are again the first 3 lines of the resulting nif object:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nif</span>, <span class="fl">3</span><span class="op">)</span></span>
<span><span class="co">#&gt;   REF ID    STUDYID           USUBJID AGE SEX  RACE HEIGHT WEIGHT      BMI</span></span>
<span><span class="co">#&gt; 1   1  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 2   2  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt; 3   3  1 2023000400 20230004001010002  53   1 WHITE  180.4   73.1 22.46179</span></span>
<span><span class="co">#&gt;                   DTC TIME NTIME TAFD TAD EVID AMT ANALYTE CMT PARENT TRTDY</span></span>
<span><span class="co">#&gt; 1 2001-01-05 10:05:00  0.0   0.0  0.0 0.0    1 500  RS2023   1 RS2023     1</span></span>
<span><span class="co">#&gt; 2 2001-01-05 10:05:00  0.0   0.0  0.0 0.0    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt; 3 2001-01-05 10:35:00  0.5   0.5  0.5 0.5    0   0  RS2023   2 RS2023     1</span></span>
<span><span class="co">#&gt;   METABOLITE DOSE MDV ACTARMCD IMPUTATION       DV                  EPOCH</span></span>
<span><span class="co">#&gt; 1      FALSE  500   1       AB                  NA OPEN LABEL TREATMENT 1</span></span>
<span><span class="co">#&gt; 2      FALSE  500   0       AB               0.000 OPEN LABEL TREATMENT 1</span></span>
<span><span class="co">#&gt; 3      FALSE  500   0       AB            4697.327 OPEN LABEL TREATMENT 1</span></span>
<span><span class="co">#&gt;   PERIOD TREATMENT FASTED</span></span>
<span><span class="co">#&gt; 1      1         A      1</span></span>
<span><span class="co">#&gt; 2      1         A      1</span></span>
<span><span class="co">#&gt; 3      1         A      1</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="data-exploration">DATA EXPLORATION<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h2>
<div class="section level3">
<h3 id="data-disposition">Data disposition<a class="anchor" aria-label="anchor" href="#data-disposition"></a>
</h3>
<p>It is generally an excellent idea to explore data sets before
proceeding into more complex analyses. The <code>nif</code> package
provides a host of functions to this end. The following section shows
some basic examples.</p>
<p>The <code><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary()</a></code> function generates a general overview on
the data disposition in a <code>nif</code> data set:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span>
<span><span class="co">#&gt; ----- NONMEM Input Format (NIF) data summary -----</span></span>
<span><span class="co">#&gt; Data from 20 subjects across one study:</span></span>
<span><span class="co">#&gt;   STUDYID      N    </span></span>
<span><span class="co">#&gt;   2023000400   20    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sex distribution:</span></span>
<span><span class="co">#&gt;   SEX      N    percent   </span></span>
<span><span class="co">#&gt;   male     13   65        </span></span>
<span><span class="co">#&gt;   female   7    35         </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatments:</span></span>
<span><span class="co">#&gt;   RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Analytes:</span></span>
<span><span class="co">#&gt;   RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects per dose level:</span></span>
<span><span class="co">#&gt;   RS2023   N    </span></span>
<span><span class="co">#&gt;   500      20    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 680 observations:</span></span>
<span><span class="co">#&gt;   CMT   ANALYTE   N     </span></span>
<span><span class="co">#&gt;   2     RS2023    680    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Sampling schedule:</span></span>
<span><span class="co">#&gt;   NTIME   RS2023   </span></span>
<span><span class="co">#&gt;   0       X        </span></span>
<span><span class="co">#&gt;   0.5     X        </span></span>
<span><span class="co">#&gt;   1       X        </span></span>
<span><span class="co">#&gt;   1.5     X        </span></span>
<span><span class="co">#&gt;   2       X         </span></span>
<span><span class="co">#&gt;   (12 more rows)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects with dose reductions</span></span>
<span><span class="co">#&gt;   RS2023   </span></span>
<span><span class="co">#&gt;   0         </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatment duration overview:</span></span>
<span><span class="co">#&gt;   PARENT   min   max   mean   median   </span></span>
<span><span class="co">#&gt;   RS2023   2     2     2      2         </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Hash: 18f2357de9faa8fcc64cb06f04f8d3b0</span></span>
<span><span class="co">#&gt; Last DTC: 2001-03-10 10:28:00</span></span></code></pre></div>
<p>Plotting the summary yields histograms of the baseline demographic
covariates and raw plots of the analytes over time. In the following
code, ignore the <code>ìnvisible(capture.output())</code> construct
around the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function. Its sole purpose is to omit
some non-graphical output:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output</a></span><span class="op">(</span></span>
<span>  <span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-1.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-2.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-3.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-4.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-5.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-6.png" class="r-plt" width="288"><img src="nif-tutorial_files/figure-html/unnamed-chunk-16-7.png" class="r-plt" width="288"></p>
</div>
<div class="section level3">
<h3 id="plasma-concentration-data">Plasma concentration data<a class="anchor" aria-label="anchor" href="#plasma-concentration-data"></a>
</h3>
<p><code>nif</code> objects can be easily plotted as time series charts
using the generic <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function. While the output is a
standard ggplot2 object that can be further extended using ggplot2
functionality, the <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function itself includes
extensive parameters to achieve the desired data visualization.</p>
<p>In its simplest form, <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> includes all analytes, and
uses ‘time after first dose’ (‘TAFD’) as the time metric:</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-17-1.png" class="r-plt" width="480"></p>
<p>To check the integrity of the data set, it is often helpful to plot
the analyte concentrations over time-after-dose (TAD):</p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>time<span class="op">=</span><span class="st">"TAD"</span>, points<span class="op">=</span><span class="cn">TRUE</span>, lines<span class="op">=</span><span class="cn">FALSE</span>, log<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-18-1.png" class="r-plt" width="480"></p>
<p>To demonstrate the food effect on Cmax and Tmax on the individual
level, the below figure focuses on the first 24 hours on the linear
scale and introduces coloring based on the ‘FASTED’ covariate field:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"FASTED"</span>, max_time<span class="op">=</span><span class="fl">24</span>, points<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-19-1.png" class="r-plt" width="480"></p>
<p>The following compares the mean plasma concentration profiles:</p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>color<span class="op">=</span><span class="st">"FASTED"</span>, max_time<span class="op">=</span><span class="fl">24</span>, mean<span class="op">=</span><span class="cn">TRUE</span>, points<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<p><img src="nif-tutorial_files/figure-html/unnamed-chunk-20-1.png" class="r-plt" width="480"></p>
<p>Refer to the documentation of <code><a href="../reference/plot.nif.html">plot.nif()</a></code> for further
options.</p>
</div>
<div class="section level3">
<h3 id="nif-viewer">NIF viewer<a class="anchor" aria-label="anchor" href="#nif-viewer"></a>
</h3>
<p><code><a href="../reference/nif_viewer.html">nif_viewer()</a></code> is a powerful exploratory tool that lets
you interactively explore all analyte profiles on an individual level.
As the static nature of a vignette does not allow to fully appreciate
its potential, you are encouraged to test <code><a href="../reference/nif_viewer.html">nif_viewer()</a></code>
within your RStudio.</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/nif_viewer.html">nif_viewer</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rainer Strotmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
