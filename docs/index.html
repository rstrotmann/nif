<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Construct NONMEM input files from SDTM data â€¢ nif</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Construct NONMEM input files from SDTM data">
<meta name="description" content="A system to import and explore Study Data Tabulation Model (SDTM) formatted data from clinical studies, and to create and explore NONMEM Input File (NIF) data sets from them that can be used for pharmacometric analyses.">
<meta property="og:description" content="A system to import and explore Study Data Tabulation Model (SDTM) formatted data from clinical studies, and to create and explore NONMEM Input File (NIF) data sets from them that can be used for pharmacometric analyses.">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">nif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.52.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/creating-multiple-study-nif.html">creating-multiple-study-nif</a></li>
    <li><a class="dropdown-item" href="articles/multiple-dose-example.html">NIF data for a multiple-dose study</a></li>
    <li><a class="dropdown-item" href="articles/nif-imputations.html">Imputations and assumptions</a></li>
    <li><a class="dropdown-item" href="articles/nif-vignette.html">Creating NIF files from SDTM data</a></li>
    <li><a class="dropdown-item" href="articles/tests_and_coverage.html">Tests and Coverage</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rstrotmann/nif/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="nif">NIF<a class="anchor" aria-label="anchor" href="#nif"></a>
</h1></div>
<!-- badges: start -->

<p>This is a package to create NONMEM input file (NIF) objects from SDTM-formatted clinical study data.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>nif</code> like this:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"rstrotmann/nif"</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level3">
<h3 id="generate-a-nif-data-set">Generate a NIF data set<a class="anchor" aria-label="anchor" href="#generate-a-nif-data-set"></a>
</h3>
<p>This is a very basic example using sample SDTM data from a fictional single ascending dose study to create a NIF data set using <code>make_nif()</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstrotmann/nif" class="external-link">nif</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sdtm</span> <span class="op">&lt;-</span> <span class="va">examplinib_sad</span></span>
<span></span>
<span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/new_nif.html">new_nif</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_administration.html">add_administration</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"EXAMPLINIB"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"pc"</span>, <span class="st">"RS2023"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span>
<span><span class="co">#&gt;   REF ID    STUDYID           USUBJID AGE SEX  RACE HEIGHT WEIGHT      BMI</span></span>
<span><span class="co">#&gt; 1   1  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt; 2   2  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt; 3   3  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt; 4   4  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt; 5   5  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt; 6   6  1 2023000001 20230000011010001  54   0 WHITE  178.1     74 23.32942</span></span>
<span><span class="co">#&gt;                   DTC TIME NTIME TAFD TAD PCELTM EVID AMT ANALYTE CMT PARENT</span></span>
<span><span class="co">#&gt; 1 2000-12-30 10:20:00  0.0   0.0  0.0 0.0   &lt;NA&gt;    1   5  RS2023   1 RS2023</span></span>
<span><span class="co">#&gt; 2 2000-12-30 10:20:00  0.0   0.0  0.0 0.0   PT0H    0   0  RS2023   2 RS2023</span></span>
<span><span class="co">#&gt; 3 2000-12-30 10:50:00  0.5   0.5  0.5 0.5 PT0.5H    0   0  RS2023   2 RS2023</span></span>
<span><span class="co">#&gt; 4 2000-12-30 11:20:00  1.0   1.0  1.0 1.0   PT1H    0   0  RS2023   2 RS2023</span></span>
<span><span class="co">#&gt; 5 2000-12-30 11:50:00  1.5   1.5  1.5 1.5 PT1.5H    0   0  RS2023   2 RS2023</span></span>
<span><span class="co">#&gt; 6 2000-12-30 12:20:00  2.0   2.0  2.0 2.0   PT2H    0   0  RS2023   2 RS2023</span></span>
<span><span class="co">#&gt;   TRTDY METABOLITE DOSE      DV MDV ACTARMCD                       IMPUTATION</span></span>
<span><span class="co">#&gt; 1     1      FALSE    5      NA   1       C1 admin time imputed from PCRFTDTC</span></span>
<span><span class="co">#&gt; 2     1      FALSE    5  0.0000   0       C1                                 </span></span>
<span><span class="co">#&gt; 3     1      FALSE    5  1.7829   0       C1                                 </span></span>
<span><span class="co">#&gt; 4     1      FALSE    5  7.1328   0       C1                                 </span></span>
<span><span class="co">#&gt; 5     1      FALSE    5 13.7709   0       C1                                 </span></span>
<span><span class="co">#&gt; 6     1      FALSE    5 16.6334   0       C1</span></span></code></pre></div>
<p>In many cases, you may want to add further covariates, e.g., baseline creatinine from the LB domain:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>COHORT <span class="op">=</span> <span class="va">ACTARMCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_baseline.html">add_baseline</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"lb"</span>, <span class="st">"CREAT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_bl_crcl.html">add_bl_crcl</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-exploration">Data exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h3>
<p>The <code>nif</code> package provides a range of functions to explore and summarize NIF files:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span>
<span><span class="co">#&gt; ----- NONMEM input file (NIF) object summary -----</span></span>
<span><span class="co">#&gt; Data from 48 subjects across one study:</span></span>
<span><span class="co">#&gt;  STUDYID      N    </span></span>
<span><span class="co">#&gt;  2023000001   48   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Males: 48, females: 0 (0%)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Renal impairment class:</span></span>
<span><span class="co">#&gt;  CLASS    N    </span></span>
<span><span class="co">#&gt;  mild     4    </span></span>
<span><span class="co">#&gt;  normal   44   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Administered drugs:</span></span>
<span><span class="co">#&gt;  RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Analytes:</span></span>
<span><span class="co">#&gt;  RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects per dose levels:</span></span>
<span><span class="co">#&gt;  COHORT   RS2023   N    </span></span>
<span><span class="co">#&gt;  C1       5        3    </span></span>
<span><span class="co">#&gt;  C10      500      12   </span></span>
<span><span class="co">#&gt;  C2       10       3    </span></span>
<span><span class="co">#&gt;  C3       20       3    </span></span>
<span><span class="co">#&gt;  C4       50       3    </span></span>
<span><span class="co">#&gt;  C5       100      6    </span></span>
<span><span class="co">#&gt;  C6       200      3    </span></span>
<span><span class="co">#&gt;  C7       500      6    </span></span>
<span><span class="co">#&gt;  C8       800      6    </span></span>
<span><span class="co">#&gt;  C9       1000     3    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 816 observations:</span></span>
<span><span class="co">#&gt;  CMT   ANALYTE   N     </span></span>
<span><span class="co">#&gt;  2     RS2023    816   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects with dose reductions</span></span>
<span><span class="co">#&gt;  RS2023   </span></span>
<span><span class="co">#&gt;  0        </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatment duration overview:</span></span>
<span><span class="co">#&gt;  PARENT   min   max   mean   median   </span></span>
<span><span class="co">#&gt;  RS2023   1     1     1      1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-2.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-3.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-4.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-5.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-6.png" width="50%"><img src="reference/figures/README-unnamed-chunk-4-7.png" width="50%"></p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="further-information">Further information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h1>
<p>For further guidance see the help for individual functions and the <a href="https://rstrotmann.github.io/nif/" class="external-link">project website</a> on github pages.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rstrotmann/nif/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nif</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rainer Strotmann <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=nif" class="external-link"><img src="https://www.r-pkg.org/badges/version/nif" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Rainer Strotmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
