<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A system to import and explore Study Data Tabulation Model (SDTM) formatted data from clinical studies, and to create and explore NONMEM Input File (NIF) data sets from them that can be used for pharmacometric analyses.">
<title>Construct NONMEM input files from SDTM data â€¢ nif</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Construct NONMEM input files from SDTM data">
<meta property="og:description" content="A system to import and explore Study Data Tabulation Model (SDTM) formatted data from clinical studies, and to create and explore NONMEM Input File (NIF) data sets from them that can be used for pharmacometric analyses.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light" data-bs-theme="light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">nif</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.49.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/importing-NIF-datasets.html">Importing NIF data sets</a>
    <a class="dropdown-item" href="articles/making-nif-files.html">Making nif data sets from SDTM data</a>
    <a class="dropdown-item" href="articles/multiple-dose-example.html">NIF data for a multiple-dose study</a>
    <a class="dropdown-item" href="articles/nif-imputations.html">Imputations and assumptions used by make_nif()</a>
    <a class="dropdown-item" href="articles/nif-vignette.html">Creating NIF files from SDTM data</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/rstrotmann/nif/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="nif">NIF<a class="anchor" aria-label="anchor" href="#nif"></a>
</h1></div>
<!-- badges: start -->

<p>This is a package to create NONMEM input file (NIF) objects from SDTM-formatted clinical study data.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>nif</code> like so:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"rstrotmann/nif"</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<div class="section level3">
<h3 id="generate-a-nif-data-set">Generate a NIF data set<a class="anchor" aria-label="anchor" href="#generate-a-nif-data-set"></a>
</h3>
<p>This is a very basic example using sample SDTM data from a fictional single ascending dose study to create a NIF data set using <code><a href="reference/make_nif.html">make_nif()</a></code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rstrotmann/nif" class="external-link">nif</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">sdtm</span> <span class="op">&lt;-</span> <span class="va">examplinib_sad</span></span>
<span></span>
<span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/new_nif.html">new_nif</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_administration.html">add_administration</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"EXAMPLINIB"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_observation.html">add_observation</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"pc"</span>, <span class="st">"RS2023"</span>, analyte <span class="op">=</span> <span class="st">"RS2023"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span>
<span><span class="co">#&gt;   ID           USUBJID    STUDYID                 DTC TIME TAFD NTIME</span></span>
<span><span class="co">#&gt; 1  1 20230000011010001 2023000001 2000-12-31 10:18:00  0.0  0.0   0.0</span></span>
<span><span class="co">#&gt; 2  1 20230000011010001 2023000001 2000-12-31 10:18:00  0.0  0.0   0.0</span></span>
<span><span class="co">#&gt; 3  1 20230000011010001 2023000001 2000-12-31 10:48:00  0.5  0.5   0.5</span></span>
<span><span class="co">#&gt; 4  1 20230000011010001 2023000001 2000-12-31 11:18:00  1.0  1.0   1.0</span></span>
<span><span class="co">#&gt; 5  1 20230000011010001 2023000001 2000-12-31 11:48:00  1.5  1.5   1.5</span></span>
<span><span class="co">#&gt; 6  1 20230000011010001 2023000001 2000-12-31 12:18:00  2.0  2.0   2.0</span></span>
<span><span class="co">#&gt;                          IMPUTATION ANALYTE PARENT METABOLITE DOSE AMT CMT EVID</span></span>
<span><span class="co">#&gt; 1  admin time imputed from PCRFTDTC  RS2023 RS2023      FALSE    5   5   1    1</span></span>
<span><span class="co">#&gt; 2                                    RS2023 RS2023      FALSE    5   0   2    0</span></span>
<span><span class="co">#&gt; 3                                    RS2023 RS2023      FALSE    5   0   2    0</span></span>
<span><span class="co">#&gt; 4                                    RS2023 RS2023      FALSE    5   0   2    0</span></span>
<span><span class="co">#&gt; 5                                    RS2023 RS2023      FALSE    5   0   2    0</span></span>
<span><span class="co">#&gt; 6                                    RS2023 RS2023      FALSE    5   0   2    0</span></span>
<span><span class="co">#&gt;        DV MDV EXDY REF SEX  RACE ETHNIC COUNTRY AGE HEIGHT WEIGHT     BMI</span></span>
<span><span class="co">#&gt; 1      NA   1    1   1   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt; 2  0.0000   0   NA   2   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt; 3  2.4470   0   NA   3   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt; 4  7.2445   0   NA   4   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt; 5 15.7476   0   NA   5   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt; 6 20.9229   0   NA   6   0 WHITE            DEU  43  187.4     77 21.9256</span></span>
<span><span class="co">#&gt;   ACTARMCD            RFXSTDTC TRTDY            FIRSTDTC          FIRSTADMIN</span></span>
<span><span class="co">#&gt; 1       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt; 2       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt; 3       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt; 4       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt; 5       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt; 6       C1 2000-12-31 10:18:00     1 2000-12-31 10:18:00 2000-12-31 10:18:00</span></span>
<span><span class="co">#&gt;   TAD PCELTM</span></span>
<span><span class="co">#&gt; 1 0.0   &lt;NA&gt;</span></span>
<span><span class="co">#&gt; 2 0.0   PT0H</span></span>
<span><span class="co">#&gt; 3 0.5 PT0.5H</span></span>
<span><span class="co">#&gt; 4 1.0   PT1H</span></span>
<span><span class="co">#&gt; 5 1.5 PT1.5H</span></span>
<span><span class="co">#&gt; 6 2.0   PT2H</span></span></code></pre></div>
<p>In many cases, you may want to add further covariates, e.g., baseline creatinine from the LB domain:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">nif</span> <span class="op">&lt;-</span> <span class="va">nif</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span>  </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>COHORT <span class="op">=</span> <span class="va">ACTARMCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_baseline.html">add_baseline</a></span><span class="op">(</span><span class="va">sdtm</span>, <span class="st">"lb"</span>, <span class="st">"CREAT"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="reference/add_bl_crcl.html">add_bl_crcl</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-exploration">Data exploration<a class="anchor" aria-label="anchor" href="#data-exploration"></a>
</h3>
<p>The <code>nif</code> package provides a range of functions to explore and summarize NIF files:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span></span>
<span><span class="co">#&gt; ----- NONMEM input file (NIF) object summary -----</span></span>
<span><span class="co">#&gt; Data from 48 subjects across one study:</span></span>
<span><span class="co">#&gt;  STUDYID      N    </span></span>
<span><span class="co">#&gt;  2023000001   48   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Males: 48, females: 0 (0%)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Renal impairment class:</span></span>
<span><span class="co">#&gt;  CLASS    N    </span></span>
<span><span class="co">#&gt;  mild     6    </span></span>
<span><span class="co">#&gt;  normal   42   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Administered drugs:</span></span>
<span><span class="co">#&gt;  RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Analytes:</span></span>
<span><span class="co">#&gt;  RS2023</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects per dose levels:</span></span>
<span><span class="co">#&gt;  COHORT   RS2023   N    </span></span>
<span><span class="co">#&gt;  C1       5        3    </span></span>
<span><span class="co">#&gt;  C10      500      12   </span></span>
<span><span class="co">#&gt;  C2       10       3    </span></span>
<span><span class="co">#&gt;  C3       20       3    </span></span>
<span><span class="co">#&gt;  C4       50       3    </span></span>
<span><span class="co">#&gt;  C5       100      6    </span></span>
<span><span class="co">#&gt;  C6       200      3    </span></span>
<span><span class="co">#&gt;  C7       500      6    </span></span>
<span><span class="co">#&gt;  C8       800      6    </span></span>
<span><span class="co">#&gt;  C9       1000     3    </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; 816 observations:</span></span>
<span><span class="co">#&gt;  CMT   ANALYTE   N     </span></span>
<span><span class="co">#&gt;  2     RS2023    816   </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Subjects with dose reductions</span></span>
<span><span class="co">#&gt;  RS2023   </span></span>
<span><span class="co">#&gt;  0        </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Treatment duration overview:</span></span>
<span><span class="co">#&gt;  PARENT   min   max   mean   median   </span></span>
<span><span class="co">#&gt;  RS2023   1     1     1      1</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/invisible.html" class="external-link">invisible</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/capture.output.html" class="external-link">capture.output</a></span><span class="op">(</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">nif</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="reference/figures/README-unnamed-chunk-4-1.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-2.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-3.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-4.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-5.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-6.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-7.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-8.png" width="100%"><img src="reference/figures/README-unnamed-chunk-4-9.png" width="100%"></p>
</div>
</div>
</div>
<div class="section level1">
<h1 id="further-information">Further information<a class="anchor" aria-label="anchor" href="#further-information"></a>
</h1>
<p>For further guidance see the help for individual functions and the <a href="https://rstrotmann.github.io/nif/" class="external-link">project website</a> on github pages.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rstrotmann/nif/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing nif</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Rainer Strotmann <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://CRAN.R-project.org/package=nif" class="external-link"><img src="https://www.r-pkg.org/badges/version/nif" alt="CRAN status"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Rainer Strotmann.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.8.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
