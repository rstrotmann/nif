% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/nif_ntile.R
\name{add_ntile}
\alias{add_ntile}
\title{Add n-tiles (quantiles) for a specified column across all subjects}
\usage{
add_ntile(nif, input_col, n = 4, ntile_name = NULL)
}
\arguments{
\item{nif}{A nif object}

\item{input_col}{The column name to calculate n-tiles for (must have one
distinct entry per subject)}

\item{n}{The number of quantiles (n-tiles) to generate (default = 4)}

\item{ntile_name}{Custom name for the output column. If NULL, uses \code{x_NTILE}
format where x is the name of the input column}
}
\value{
A nif object with a new column containing the n-tile values (1 to n),
named either \code{x_NTILE} (default) or the custom name specified in
\code{ntile_name}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

This function calculates n-tiles for a specified column's values across all
subjects. The quantiles are calculated across all subjects, and each subject
gets the same n-tile value across all their rows. The input column must have
exactly one distinct value per subject (e.g., age, weight, baseline values).
}
\examples{
library(dplyr)
library(ggplot2)

examplinib_sad_nif \%>\%
 add_ntile("WEIGHT") \%>\%
   plot(dose_norm = TRUE, facet = "WEIGHT_NTILE")

examplinib_poc_nif \%>\%
add_ntile("WEIGHT", n = 5) \%>\%
  distinct(ID, WEIGHT, WEIGHT_NTILE) \%>\%
  ggplot(aes(x = WEIGHT_NTILE, y = WEIGHT)) +
  geom_point() +
  labs(title = "Plasma concentrations by WEIGHT quartiles")
  theme_bw()
}
\seealso{
\code{\link[dplyr:ntile]{dplyr::ntile()}} for the underlying n-tile calculation
}
